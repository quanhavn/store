{"id":"store-management-pwa-09f","title":"Allow creating category on product creation screen","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T13:11:17.719497+07:00","updated_at":"2025-12-07T13:14:15.739962+07:00","closed_at":"2025-12-07T13:14:15.739962+07:00"}
{"id":"store-management-pwa-0nh","title":"Phase 2: Product Form UI (add/edit with image upload)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:11:03.884019+07:00","updated_at":"2025-12-07T02:22:43.834714+07:00","closed_at":"2025-12-07T02:22:43.834714+07:00"}
{"id":"store-management-pwa-13p","title":"Phase 6.2: Employee UI Components","description":"Create EmployeeList, EmployeeCard, EmployeeForm, EmployeeDetail components and /hr page","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:57:39.116073+07:00","updated_at":"2025-12-07T03:10:13.925307+07:00","closed_at":"2025-12-07T03:10:13.925307+07:00","dependencies":[{"issue_id":"store-management-pwa-13p","depends_on_id":"store-management-pwa-uc6","type":"blocks","created_at":"2025-12-07T02:59:19.982688+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-1iu","title":"Viettel E-Invoice API Integration","description":"Integrate Viettel SINVOICE API v2.35 for Vietnam Tax 2026 compliance.\n\n## Scope\n- Authentication with Viettel API (token-based)\n- Create/Issue invoices (HSM signing)\n- Cancel, Adjust, Replace invoices\n- Download PDF/XML invoices\n- Invoice lookup/search\n\n## Technical Plan\nSee docs/VIETTEL_INVOICE_INTEGRATION_PLAN.md\n\n## Subtasks\n1. Create viettel-client.ts shared module\n2. Implement invoice-create Edge Function\n3. Implement invoice-download Edge Function\n4. Implement invoice-cancel Edge Function\n5. Add invoice database schema\n6. Create invoice UI components\n7. Implement offline queue with sync","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-07T12:53:53.590283+07:00","updated_at":"2025-12-07T13:07:59.723276+07:00","closed_at":"2025-12-07T13:07:59.723278+07:00"}
{"id":"store-management-pwa-1ye","title":"Phase 6: HR (employees, attendance, salary calculation, payroll)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:23:34.560804+07:00","updated_at":"2025-12-07T03:10:25.485463+07:00","closed_at":"2025-12-07T03:10:25.485463+07:00"}
{"id":"store-management-pwa-286","title":"Phase 3: Inventory Management (import/export stock, stock check, low stock alerts)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:23:18.916175+07:00","updated_at":"2025-12-07T02:36:34.649183+07:00","closed_at":"2025-12-07T02:36:34.649183+07:00"}
{"id":"store-management-pwa-28b","title":"Support multiple units per product","description":"Products should support multiple units (e.g., 1L and 500ml of the same product, or kg and gram). Need: 1. product_units table, 2. unit conversion rates, 3. UI for managing units","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-07T10:40:38.524657+07:00","updated_at":"2025-12-07T10:53:56.850289+07:00","closed_at":"2025-12-07T10:53:56.850289+07:00"}
{"id":"store-management-pwa-2cr","title":"CSV Import: Core Infrastructure","description":"Create reusable CSV import components and utilities:\n- CSVImportModal.tsx (main multi-step modal)\n- useCSVImport hook (parsing, validation, mapping logic)\n- CSV column mapping store (Zustand)\n- Validation helpers for each entity type","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T11:43:20.312858+07:00","updated_at":"2025-12-08T11:57:24.519893+07:00","closed_at":"2025-12-08T11:57:24.519893+07:00"}
{"id":"store-management-pwa-2dr","title":"Phase 7.4: Reports Hub \u0026 7 Book Templates","description":"Create ReportsHub page with DateRangePicker, ReportPreview, ReportTable for 7 accounting books","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:58:27.139132+07:00","updated_at":"2025-12-07T03:17:50.954503+07:00","closed_at":"2025-12-07T03:17:50.954503+07:00","dependencies":[{"issue_id":"store-management-pwa-2dr","depends_on_id":"store-management-pwa-nih","type":"blocks","created_at":"2025-12-07T02:59:52.534556+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-2w7","title":"Phase 8: Launch (testing, optimization, security audit, deployment)","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:23:44.944803+07:00","updated_at":"2025-12-07T02:23:44.944803+07:00"}
{"id":"store-management-pwa-2xa","title":"Phase 8.2: Performance \u0026 Security","description":"Run Lighthouse audit, optimize images/code splitting, security audit (RLS, auth, secrets)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:58:52.471456+07:00","updated_at":"2025-12-07T10:10:40.581354+07:00","closed_at":"2025-12-07T10:10:40.581354+07:00","dependencies":[{"issue_id":"store-management-pwa-2xa","depends_on_id":"store-management-pwa-hcj","type":"blocks","created_at":"2025-12-07T03:00:04.59147+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-3l2","title":"Phase 8: Create User Documentation","description":"Write docs/USER_GUIDE.md in Vietnamese covering: Getting started, POS usage, Inventory management, Finance tracking, Tax compliance, HR/Payroll, Reports. Include screenshots and step-by-step instructions.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-07T09:01:35.459574+07:00","updated_at":"2025-12-07T10:10:28.710503+07:00","closed_at":"2025-12-07T10:10:28.710503+07:00"}
{"id":"store-management-pwa-3sr","title":"Create LowStockAlerts component showing products below min_stock","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:31:22.368231+07:00","updated_at":"2025-12-07T02:36:29.50075+07:00","closed_at":"2025-12-07T02:36:29.50075+07:00"}
{"id":"store-management-pwa-42m","title":"CSV Import: Customer Import","description":"Implement customer CSV import:\n- Fields: name, phone (required), address, tax_code, notes\n- Validate phone format (0xxxxxxxxx)\n- Validate tax code format if provided\n- Check for duplicate phones","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T11:43:40.990732+07:00","updated_at":"2025-12-08T11:57:35.336215+07:00","closed_at":"2025-12-08T11:57:35.336215+07:00","dependencies":[{"issue_id":"store-management-pwa-42m","depends_on_id":"store-management-pwa-n03","type":"blocks","created_at":"2025-12-08T11:44:17.971172+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-46r","title":"Phase 2: Cart Management (Zustand store, bottom sheet)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:11:14.293303+07:00","updated_at":"2025-12-07T02:22:43.835066+07:00","closed_at":"2025-12-07T02:22:43.835066+07:00"}
{"id":"store-management-pwa-4e1","title":"Phase 7.5: Excel/PDF Export","description":"Add xlsx and jspdf libraries. Create export utilities with proper Vietnamese formatting","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:58:32.358624+07:00","updated_at":"2025-12-07T03:17:50.954754+07:00","closed_at":"2025-12-07T03:17:50.954754+07:00","dependencies":[{"issue_id":"store-management-pwa-4e1","depends_on_id":"store-management-pwa-2dr","type":"blocks","created_at":"2025-12-07T02:59:57.688889+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-4ri","title":"Phase 5: Create Tax Management Page","description":"Create app/(main)/tax/page.tsx with tabs for: Tax Settings (TaxSettingsForm), Quarterly Summary (QuarterlyTaxSummary), Tax Deadline Widget. Add navigation link in mobile layout sidebar.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T09:00:11.944859+07:00","updated_at":"2025-12-07T09:17:24.644656+07:00","closed_at":"2025-12-07T09:17:24.644656+07:00"}
{"id":"store-management-pwa-4vt","title":"Phase 2: POS Layout \u0026 Barcode Scanner","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:11:09.099591+07:00","updated_at":"2025-12-07T02:22:43.834897+07:00","closed_at":"2025-12-07T02:22:43.834897+07:00"}
{"id":"store-management-pwa-5mb","title":"Finance: Cash In/Out Forms with Amount Keypad","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T02:39:57.385296+07:00","updated_at":"2025-12-07T02:43:25.430296+07:00","closed_at":"2025-12-07T02:43:25.430296+07:00"}
{"id":"store-management-pwa-5vg","title":"Fix RLS policy violation on user registration","description":"After signup, user gets error 'new row violates row-level security policy for table stores'. The registration flow tries to insert store record before user session is fully established.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-07T10:32:26.750977+07:00","updated_at":"2025-12-07T10:34:15.325473+07:00","closed_at":"2025-12-07T10:34:15.325473+07:00"}
{"id":"store-management-pwa-5y2","title":"Phase 2: Product List UI (mobile-first grid, search, filters)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:10:58.712156+07:00","updated_at":"2025-12-07T02:22:43.834524+07:00","closed_at":"2025-12-07T02:22:43.834524+07:00"}
{"id":"store-management-pwa-62u","title":"Phase 2: Payment Methods (cash, bank, QR)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:11:19.478554+07:00","updated_at":"2025-12-07T02:22:43.835231+07:00","closed_at":"2025-12-07T02:22:43.835231+07:00"}
{"id":"store-management-pwa-641","title":"Phase 6.5: Payroll UI \u0026 Salary Book","description":"Create PayrollDashboard, PayslipList, PayslipDetail, SalaryBookTable components","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:57:54.774608+07:00","updated_at":"2025-12-07T03:10:13.926864+07:00","closed_at":"2025-12-07T03:10:13.926864+07:00","dependencies":[{"issue_id":"store-management-pwa-641","depends_on_id":"store-management-pwa-tjn","type":"blocks","created_at":"2025-12-07T02:59:35.408809+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-6mj","title":"Implement inventory page with tabs: Stock Check, Import/Export, Low Stock Alerts","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:31:06.714483+07:00","updated_at":"2025-12-07T02:32:40.733236+07:00","closed_at":"2025-12-07T02:32:40.733236+07:00"}
{"id":"store-management-pwa-704","title":"Finance: Cash Balance Card and Dashboard","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T02:39:52.170098+07:00","updated_at":"2025-12-07T02:43:25.429399+07:00","closed_at":"2025-12-07T02:43:25.429399+07:00"}
{"id":"store-management-pwa-7bo","title":"Fix TypeScript type casting issues in login page","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-07T01:54:31.662419+07:00","updated_at":"2025-12-07T02:05:17.830018+07:00","closed_at":"2025-12-07T02:05:17.830018+07:00"}
{"id":"store-management-pwa-7dl","title":"Create RPC for finance expense creation","description":"Move expense creation logic to RPC: create expense record, record cash/bank book entry, update balance atomically.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T02:27:16.880302+07:00","updated_at":"2025-12-08T02:39:18.120684+07:00","closed_at":"2025-12-08T02:39:18.120684+07:00"}
{"id":"store-management-pwa-8j2","title":"CSV Import: Product Import","description":"Implement product CSV import:\n- Fields: name, sku, barcode, category, cost_price, sell_price, vat_rate, quantity, min_stock, unit\n- Resolve category by name\n- Validate required fields\n- Check for duplicate SKU/barcode","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T11:43:46.16464+07:00","updated_at":"2025-12-08T11:57:35.336466+07:00","closed_at":"2025-12-08T11:57:35.336466+07:00","dependencies":[{"issue_id":"store-management-pwa-8j2","depends_on_id":"store-management-pwa-n03","type":"blocks","created_at":"2025-12-08T11:44:23.124882+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-8ky","title":"CSV Import: Member/Employee Import","description":"Implement HR employee CSV import:\n- Fields: name, phone, id_card, date_of_birth, address, position, department, hire_date, contract_type, base_salary, allowances, dependents, bank_account, bank_name, social_insurance_no\n- Validate phone, id_card uniqueness\n- Parse date formats\n- Validate contract_type enum","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T11:43:51.336507+07:00","updated_at":"2025-12-08T11:57:35.336642+07:00","closed_at":"2025-12-08T11:57:35.336642+07:00","dependencies":[{"issue_id":"store-management-pwa-8ky","depends_on_id":"store-management-pwa-n03","type":"blocks","created_at":"2025-12-08T11:44:28.303527+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-965","title":"Phase 2: Implement Barcode Scanner with Quagga2","description":"Install and integrate Quagga2 or html5-qrcode library for barcode scanning in POS. Update ProductSearch.tsx to use actual scanner instead of placeholder icon. Add camera permission handling and scanner modal UI.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T08:59:39.705786+07:00","updated_at":"2025-12-07T09:17:24.642667+07:00","closed_at":"2025-12-07T09:17:24.642667+07:00"}
{"id":"store-management-pwa-aow","title":"Phase 8.3: Documentation","description":"Write user guide, admin guide, API docs in Vietnamese","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:58:57.73755+07:00","updated_at":"2025-12-07T10:10:40.581636+07:00","closed_at":"2025-12-07T10:10:40.581636+07:00","dependencies":[{"issue_id":"store-management-pwa-aow","depends_on_id":"store-management-pwa-2xa","type":"blocks","created_at":"2025-12-07T03:00:09.730189+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-auq","title":"Phase 7: Implement Excel Export with xlsx","description":"Install xlsx library. Create lib/reports/export-excel.ts utility. Implement exportToExcel function with metadata headers, formatted columns, totals row. Add Vietnamese character support. Connect to ReportPreview export button.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T09:00:32.811988+07:00","updated_at":"2025-12-07T09:17:24.645247+07:00","closed_at":"2025-12-07T09:17:24.645247+07:00"}
{"id":"store-management-pwa-bbo","title":"Phase 2: Implement Offline Support with Dexie","description":"Initialize Dexie database in lib/offline/db.ts. Create tables for products cache, pending sales, and sync queue. Implement sync mechanism to push pending sales when online. Add offline indicator UI and pending sales count badge.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T08:59:50.142225+07:00","updated_at":"2025-12-07T09:51:02.504302+07:00","closed_at":"2025-12-07T09:51:02.504302+07:00"}
{"id":"store-management-pwa-bck","title":"Phase 2: Receipt Printing (thermal/web)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:11:35.176984+07:00","updated_at":"2025-12-07T02:22:56.302823+07:00","closed_at":"2025-12-07T02:22:56.302823+07:00"}
{"id":"store-management-pwa-bsv","title":"Phase 8: Setup Sentry Error Tracking","description":"Install @sentry/nextjs. Create sentry.client.config.ts and sentry.server.config.ts. Add error boundary component. Configure source maps upload. Add SENTRY_DSN to environment variables.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T09:00:58.96865+07:00","updated_at":"2025-12-07T09:51:02.506172+07:00","closed_at":"2025-12-07T09:51:02.506172+07:00"}
{"id":"store-management-pwa-cos","title":"Phase 2: Category Edge Functions (list, create)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:10:53.495536+07:00","updated_at":"2025-12-07T02:22:43.834289+07:00","closed_at":"2025-12-07T02:22:43.834289+07:00"}
{"id":"store-management-pwa-dch","title":"Add Category Management Feature","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T13:28:48.056864+07:00","updated_at":"2025-12-08T13:38:46.689691+07:00","closed_at":"2025-12-08T13:38:46.689691+07:00"}
{"id":"store-management-pwa-dh4","title":"Phase 8.4: Production Deployment","description":"Setup Vercel production, Supabase production, domain, SSL, monitoring (Sentry, GA)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-07T02:59:03.001731+07:00","updated_at":"2025-12-07T02:59:03.001731+07:00","dependencies":[{"issue_id":"store-management-pwa-dh4","depends_on_id":"store-management-pwa-aow","type":"blocks","created_at":"2025-12-07T03:00:14.871329+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-dna","title":"Phase 2: Product Edge Functions (list, get, create, update, delete)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:10:48.304083+07:00","updated_at":"2025-12-07T02:22:43.833142+07:00","closed_at":"2025-12-07T02:22:43.833142+07:00"}
{"id":"store-management-pwa-dnc","title":"Restrict CORS headers in production","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T01:54:26.454309+07:00","updated_at":"2025-12-07T02:02:50.752367+07:00","closed_at":"2025-12-07T02:02:50.752367+07:00"}
{"id":"store-management-pwa-dua","title":"Phase 8: Production Deployment Setup","description":"Setup: Vercel production project, Supabase production instance, Custom domain with SSL, Environment variables, Edge Functions deployment, Database migrations. Create deployment documentation.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-07T09:01:30.249588+07:00","updated_at":"2025-12-07T09:01:30.249588+07:00","dependencies":[{"issue_id":"store-management-pwa-dua","depends_on_id":"store-management-pwa-fu0","type":"blocks","created_at":"2025-12-07T09:02:12.782586+07:00","created_by":"tmi_2024_m4"},{"issue_id":"store-management-pwa-dua","depends_on_id":"store-management-pwa-n7x","type":"blocks","created_at":"2025-12-07T09:02:17.980067+07:00","created_by":"tmi_2024_m4"},{"issue_id":"store-management-pwa-dua","depends_on_id":"store-management-pwa-lam","type":"blocks","created_at":"2025-12-07T09:02:23.160305+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-ewl","title":"Phase 7: Implement PDF Export with jsPDF","description":"Install jspdf and jspdf-autotable libraries. Create lib/reports/export-pdf.ts utility. Implement exportToPDF with store header, formatted tables, page numbers. Add Vietnamese font support. Connect to ReportPreview export button.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T09:00:38.021149+07:00","updated_at":"2025-12-07T09:17:24.64557+07:00","closed_at":"2025-12-07T09:17:24.64557+07:00"}
{"id":"store-management-pwa-fon","title":"CSV Import: Auto Column Mapping","description":"Implement intelligent auto-mapping:\n- Match CSV headers to database fields using fuzzy matching\n- Support Vietnamese column names (Tên, Số điện thoại, etc.)\n- Handle common variations (Name/name/NAME, Phone/Tel/SĐT)\n- Confidence scoring for suggested mappings","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T11:43:25.483468+07:00","updated_at":"2025-12-08T11:57:24.522128+07:00","closed_at":"2025-12-08T11:57:24.522128+07:00","dependencies":[{"issue_id":"store-management-pwa-fon","depends_on_id":"store-management-pwa-2cr","type":"blocks","created_at":"2025-12-08T11:44:02.529082+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-fu0","title":"Phase 8: Security Audit \u0026 Hardening","description":"Audit: JWT token expiration, RLS policy coverage, Input validation on all forms, Secrets management (.env.example update), CORS headers in production. Fix any vulnerabilities found. Document security measures.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T09:01:25.052606+07:00","updated_at":"2025-12-07T10:10:28.707801+07:00","closed_at":"2025-12-07T10:10:28.707801+07:00"}
{"id":"store-management-pwa-h77","title":"Fix middleware: remove root path exclusion from protection","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-07T01:54:10.873237+07:00","updated_at":"2025-12-07T02:03:29.913832+07:00","closed_at":"2025-12-07T02:03:29.913832+07:00"}
{"id":"store-management-pwa-hcj","title":"Phase 8.1: UAT Testing","description":"Create test scenarios and run E2E tests for POS, Inventory, Finance, Tax, HR, Reports flows","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:58:47.161601+07:00","updated_at":"2025-12-07T10:10:40.579938+07:00","closed_at":"2025-12-07T10:10:40.579938+07:00"}
{"id":"store-management-pwa-hkv","title":"CSV Import Feature - Category, Customer, Product, Member","description":"Allow users to import data via CSV files with auto column mapping and manual mapping override. Support importing: categories, customers, products, and members (HR employees).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T11:42:58.389154+07:00","updated_at":"2025-12-08T11:57:45.747413+07:00","closed_at":"2025-12-08T11:57:45.747413+07:00"}
{"id":"store-management-pwa-hpr","title":"Finance: Bank Account Management UI","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T02:40:02.590445+07:00","updated_at":"2025-12-07T02:48:08.348634+07:00","closed_at":"2025-12-07T02:48:08.348634+07:00"}
{"id":"store-management-pwa-iep","title":"Phase 2: Checkout Flow \u0026 Success Screen","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:11:29.922724+07:00","updated_at":"2025-12-07T02:22:43.83556+07:00","closed_at":"2025-12-07T02:22:43.83556+07:00"}
{"id":"store-management-pwa-ihw","title":"Create RPC for debt payment processing","description":"Move debt payment logic to RPC: update remaining_amount, payment status, record payment, update installments, record cash/bank book entries.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T02:27:11.65399+07:00","updated_at":"2025-12-08T02:39:18.120432+07:00","closed_at":"2025-12-08T02:39:18.120432+07:00"}
{"id":"store-management-pwa-j7m","title":"Create inventory store (zustand) for managing stock state","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:31:01.491787+07:00","updated_at":"2025-12-07T02:32:07.215258+07:00","closed_at":"2025-12-07T02:32:07.215258+07:00"}
{"id":"store-management-pwa-j86","title":"Generate PWA icons (8 PNG sizes from SVG)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T01:54:21.293816+07:00","updated_at":"2025-12-07T02:08:49.750768+07:00","closed_at":"2025-12-07T02:08:49.750768+07:00"}
{"id":"store-management-pwa-jc7","title":"Link inventory import to finance expense","description":"Implement automatic expense recording when importing inventory (Task 4.11.2 from PHASE_4_FINANCE.md).\n\n## Requirements\n- When inventory import is recorded, automatically create corresponding cash_book entry (expense/debit)\n- Use reference_type='inventory_import' and reference_id=inventory_log.id to link records\n- Support optional flag to skip auto-expense (for adjustments/corrections)\n- Update balance atomically in the same transaction\n\n## Implementation\n1. Modify inventory/import action in Edge Function\n2. Add cash_book entry creation with proper linking\n3. Consider using RPC for atomic transaction\n4. Add UI toggle for 'Record as expense' (default: true)\n\n## Acceptance Criteria\n- [ ] Import creates inventory_log AND cash_book entry atomically\n- [ ] cash_book entry has correct reference_type/reference_id\n- [ ] Balance is updated correctly\n- [ ] UI shows option to skip expense recording\n- [ ] Existing imports without expense still work","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T10:01:37.649931+07:00","updated_at":"2025-12-08T10:06:09.708253+07:00","closed_at":"2025-12-08T10:06:09.708254+07:00"}
{"id":"store-management-pwa-jo2","title":"Phase 7: Install and Implement Charts with Recharts","description":"Install recharts library. Create chart components: SalesChart (line), CategoryPieChart (pie), TopProductsChart (bar), HourlyHeatmap, RevenueExpenseChart (dual line), CashFlowChart. Integrate into Reports dashboard with responsive mobile design.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T09:00:17.161553+07:00","updated_at":"2025-12-07T09:17:24.644964+07:00","closed_at":"2025-12-07T09:17:24.644964+07:00"}
{"id":"store-management-pwa-l5s","title":"Phase 2: Create Sale Edge Function","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:11:24.681675+07:00","updated_at":"2025-12-07T02:22:43.835393+07:00","closed_at":"2025-12-07T02:22:43.835393+07:00"}
{"id":"store-management-pwa-lam","title":"Phase 8: Write E2E Tests with Playwright","description":"Create playwright.config.ts. Write E2E tests for: Login flow, Product CRUD, Complete sale cycle, Inventory import/export, Finance cash in/out, HR check-in/out, Report generation. Add to CI/CD pipeline.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T09:00:43.243427+07:00","updated_at":"2025-12-07T10:10:28.709979+07:00","closed_at":"2025-12-07T10:10:28.709979+07:00"}
{"id":"store-management-pwa-lt5","title":"Create StockAdjustmentForm for import/export stock entries","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:31:17.141282+07:00","updated_at":"2025-12-07T02:34:27.350819+07:00","closed_at":"2025-12-07T02:34:27.350819+07:00"}
{"id":"store-management-pwa-mh1","title":"Refactor Supabase: Simple queries via client, complex via RPC, 3rd party via edge functions","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-08T02:26:50.484888+07:00","updated_at":"2025-12-08T02:39:31.189738+07:00","closed_at":"2025-12-08T02:39:31.189738+07:00"}
{"id":"store-management-pwa-n03","title":"CSV Import: Manual Mapping UI","description":"Allow users to manually adjust column mappings:\n- Dropdown to select target field for each CSV column\n- Preview sample data while mapping\n- Save/remember mappings for future imports\n- Skip/ignore column option","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T11:43:30.653408+07:00","updated_at":"2025-12-08T11:57:24.522714+07:00","closed_at":"2025-12-08T11:57:24.522714+07:00","dependencies":[{"issue_id":"store-management-pwa-n03","depends_on_id":"store-management-pwa-2cr","type":"blocks","created_at":"2025-12-08T11:44:07.678948+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-n7x","title":"Phase 8: Performance Optimization \u0026 Lighthouse Audit","description":"Run Lighthouse audit and fix issues. Implement: Image optimization with next/image, Code splitting with dynamic imports, Bundle size analysis, React Query caching optimization. Target all scores \u003e 90.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T09:01:09.400892+07:00","updated_at":"2025-12-07T10:10:28.710266+07:00","closed_at":"2025-12-07T10:10:28.710266+07:00"}
{"id":"store-management-pwa-nih","title":"Phase 7.3: Sales \u0026 Financial Analytics","description":"Add sales_analytics and financial_analytics actions. Create SalesChart, CategoryPieChart, TopProductsChart, CashFlowChart","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:58:21.921145+07:00","updated_at":"2025-12-07T03:17:50.954227+07:00","closed_at":"2025-12-07T03:17:50.954227+07:00","dependencies":[{"issue_id":"store-management-pwa-nih","depends_on_id":"store-management-pwa-stb","type":"blocks","created_at":"2025-12-07T02:59:47.397686+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-o7q","title":"Fix: Add 'use client' to terms page for Ant Design SSR compatibility","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-08T23:02:08.480073+07:00","updated_at":"2025-12-08T23:03:24.346831+07:00","closed_at":"2025-12-08T23:03:24.346831+07:00"}
{"id":"store-management-pwa-ph8","title":"Create StockCheckList component for viewing current stock levels","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:31:11.923625+07:00","updated_at":"2025-12-07T02:33:21.102221+07:00","closed_at":"2025-12-07T02:33:21.102221+07:00"}
{"id":"store-management-pwa-pxe","title":"Implement store onboarding flow after registration","description":"Create a multi-step onboarding wizard to collect store information after user registration.\n\n## Requirements\n- Mobile-first design with Ant Design components\n- Vietnam Tax 2026 compliance (MST validation)\n- Vietnamese phone number validation (10 digits, 03/05/07/08/09 prefix)\n\n## Steps\n1. Store Details: Name, Address, Phone, Email\n2. Tax Info: Tax Code (MST), Revenue Tier, E-invoice settings\n3. Summary \u0026 Confirm\n\n## Technical\n- Add onboarding_completed to stores table\n- Create update-store-info Edge Function\n- Update middleware for onboarding redirect\n- Create /setup route with multi-step form","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T15:12:45.624897+07:00","updated_at":"2025-12-07T15:18:21.161457+07:00","closed_at":"2025-12-07T15:18:21.161459+07:00"}
{"id":"store-management-pwa-py8","title":"Create RPC for POS create_sale transaction","description":"Move complex POS sale creation logic to a PostgreSQL RPC function for true transactional atomicity. This includes: validate stock, create sale, sale_items, payments, update quantities, inventory logs, cash/bank book entries, debt records.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T02:27:06.479041+07:00","updated_at":"2025-12-08T02:39:18.119264+07:00","closed_at":"2025-12-08T02:39:18.119264+07:00"}
{"id":"store-management-pwa-q3a","title":"Phase 5: Tax Compliance (VAT config, e-invoice integration, tax calculation)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:23:29.359818+07:00","updated_at":"2025-12-07T02:52:20.779503+07:00","closed_at":"2025-12-07T02:52:20.779503+07:00"}
{"id":"store-management-pwa-q9d","title":"Phase 6.3: Attendance (check-in/out)","description":"Add attendance actions to HR Edge Function and create AttendanceCalendar, CheckInButton, CheckOutButton components","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:57:44.33066+07:00","updated_at":"2025-12-07T03:10:13.926378+07:00","closed_at":"2025-12-07T03:10:13.926378+07:00","dependencies":[{"issue_id":"store-management-pwa-q9d","depends_on_id":"store-management-pwa-13p","type":"blocks","created_at":"2025-12-07T02:59:25.122064+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-r1m","title":"Implement PWA service worker with next-pwa","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T01:54:16.069837+07:00","updated_at":"2025-12-07T02:06:50.383452+07:00","closed_at":"2025-12-07T02:06:50.383452+07:00"}
{"id":"store-management-pwa-s95","title":"Finance: Expense Management UI","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T02:40:07.805005+07:00","updated_at":"2025-12-07T02:48:08.349826+07:00","closed_at":"2025-12-07T02:48:08.349826+07:00"}
{"id":"store-management-pwa-sqk","title":"Phase 8: Setup Google Analytics","description":"Install @next/third-parties. Add GoogleAnalytics component to root layout. Configure GA4 measurement ID. Track page views and key events (sale completed, user registered, report exported).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-07T09:01:04.184648+07:00","updated_at":"2025-12-07T09:51:02.506396+07:00","closed_at":"2025-12-07T09:51:02.506396+07:00"}
{"id":"store-management-pwa-stb","title":"Phase 7.2: Dashboard UI Widgets","description":"Create TodaySalesWidget, MonthSummaryWidget, AlertsWidget, RecentSalesWidget for dashboard page","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:58:16.712329+07:00","updated_at":"2025-12-07T03:17:50.952998+07:00","closed_at":"2025-12-07T03:17:50.952998+07:00","dependencies":[{"issue_id":"store-management-pwa-stb","depends_on_id":"store-management-pwa-usc","type":"blocks","created_at":"2025-12-07T02:59:42.259317+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-svc","title":"Phase 2: Offline Support (IndexedDB, sync queue)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:11:40.386373+07:00","updated_at":"2025-12-07T02:22:56.304281+07:00","closed_at":"2025-12-07T02:22:56.304281+07:00"}
{"id":"store-management-pwa-tjn","title":"Phase 6.4: Payroll Calculation","description":"Add payroll actions: calculate_salary (with BHXH/BHYT/BHTN/PIT), approve_payroll, mark_paid","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:57:49.549597+07:00","updated_at":"2025-12-07T03:10:13.926653+07:00","closed_at":"2025-12-07T03:10:13.926653+07:00","dependencies":[{"issue_id":"store-management-pwa-tjn","depends_on_id":"store-management-pwa-q9d","type":"blocks","created_at":"2025-12-07T02:59:30.267453+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-to0","title":"Add product from Inventory page","description":"Users should be able to add new products directly from the inventory page, not just from the products page","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-07T10:40:33.2985+07:00","updated_at":"2025-12-07T10:53:56.848936+07:00","closed_at":"2025-12-07T10:53:56.848936+07:00"}
{"id":"store-management-pwa-uc6","title":"Phase 6.1: HR Edge Function (employees CRUD)","description":"Create Edge Function with actions: list_employees, create_employee, update_employee, deactivate_employee, list_positions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:57:33.903681+07:00","updated_at":"2025-12-07T03:04:22.550365+07:00","closed_at":"2025-12-07T03:04:22.550365+07:00"}
{"id":"store-management-pwa-usc","title":"Phase 7.1: Dashboard Summary Function","description":"Create reports Edge Function with dashboard_summary action: today sales, month summary, comparison, alerts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T02:58:11.500244+07:00","updated_at":"2025-12-07T03:13:45.10852+07:00","closed_at":"2025-12-07T03:13:45.10852+07:00"}
{"id":"store-management-pwa-ved","title":"Phase 4: Finance (cash book, bank book, expenses, financial reports)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:23:24.10526+07:00","updated_at":"2025-12-07T02:48:39.585137+07:00","closed_at":"2025-12-07T02:48:39.585137+07:00"}
{"id":"store-management-pwa-w3q","title":"CSV Import: Category Import","description":"Implement category CSV import:\n- Fields: name, parent_category (optional)\n- Validate unique names within store\n- Support hierarchical import (parent must exist or be in same file)\n- Handle parent_id resolution","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T11:43:35.819071+07:00","updated_at":"2025-12-08T11:57:35.335054+07:00","closed_at":"2025-12-08T11:57:35.335054+07:00","dependencies":[{"issue_id":"store-management-pwa-w3q","depends_on_id":"store-management-pwa-n03","type":"blocks","created_at":"2025-12-08T11:44:12.824543+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-wp8","title":"Fix Edge Function security: use anon key instead of service role key","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-07T01:54:05.676342+07:00","updated_at":"2025-12-07T02:02:50.751202+07:00","closed_at":"2025-12-07T02:02:50.751202+07:00"}
{"id":"store-management-pwa-xy9","title":"Phase 3: Implement Stock Check Workflow","description":"Add create-stock-check and submit-stock-check actions to inventory edge function. Create StockCheckForm component for counting actual inventory. Calculate differences between system and actual quantities. Auto-adjust stock on submission with audit log.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T09:00:06.724659+07:00","updated_at":"2025-12-07T09:51:02.505903+07:00","closed_at":"2025-12-07T09:51:02.505903+07:00"}
{"id":"store-management-pwa-y4t","title":"Phase 2: Create Receipt Printing Template","description":"Create dedicated ReceiptTemplate.tsx component with thermal printer format (58mm/80mm). Include store info header, itemized list, VAT breakdown, payment details, and footer. Support both web print and ESC/POS for thermal printers.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T08:59:44.928411+07:00","updated_at":"2025-12-07T09:17:24.644297+07:00","closed_at":"2025-12-07T09:17:24.644297+07:00"}
{"id":"store-management-pwa-yto","title":"Support product variants","description":"Products should support variants (size, color, flavor). Need: 1. product_variants table with attributes, 2. variant-specific pricing/stock, 3. UI for managing variants","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-07T10:40:43.784931+07:00","updated_at":"2025-12-07T10:53:56.85052+07:00","closed_at":"2025-12-07T10:53:56.85052+07:00"}
{"id":"store-management-pwa-zca","title":"Simplify edge functions to call RPCs instead of complex queries","description":"Refactor edge functions (pos, finance, debt) to call the new RPC functions instead of doing complex multi-step queries.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T02:27:22.064585+07:00","updated_at":"2025-12-08T02:39:18.1209+07:00","closed_at":"2025-12-08T02:39:18.1209+07:00","dependencies":[{"issue_id":"store-management-pwa-zca","depends_on_id":"store-management-pwa-py8","type":"blocks","created_at":"2025-12-08T02:27:31.803441+07:00","created_by":"tmi_2024_m4"},{"issue_id":"store-management-pwa-zca","depends_on_id":"store-management-pwa-ihw","type":"blocks","created_at":"2025-12-08T02:27:36.944561+07:00","created_by":"tmi_2024_m4"},{"issue_id":"store-management-pwa-zca","depends_on_id":"store-management-pwa-7dl","type":"blocks","created_at":"2025-12-08T02:27:42.093334+07:00","created_by":"tmi_2024_m4"}]}
{"id":"store-management-pwa-zsv","title":"Phase 7: Reports (dashboard, sales analytics, financial analytics, 7 accounting books)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-07T02:23:39.749808+07:00","updated_at":"2025-12-07T03:17:56.164349+07:00","closed_at":"2025-12-07T03:17:56.164349+07:00"}
